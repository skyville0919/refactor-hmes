CREATE TABLE Accounts(
	Acc_ID INT NOT NULL AUTO_INCREMENT,
	F_Name VARCHAR(15) NOT NULL,
	L_Name VARCHAR(15) NOT NULL,
	M_Name VARCHAR(10),
	Contact_No VARCHAR(15) NOT NULL,
	Address VARCHAR(30) NOT NULL,
	Email VARCHAR(30) NOT NULL,
	Password VARCHAR(32) NOT NULL,
	Code VARCHAR(10) NOT NULL,
	Archived Boolean NOT NULL,
	PRIMARY KEY(Acc_ID)
);

CREATE TABLE Customer(
	Ref_No VARCHAR(10) NOT NULL,
	F_Name VARCHAR(15) NOT NULL,
	L_Name VARCHAR(15) NOT NULL,
	M_Name VARCHAR(10),
	Contact_No VARCHAR(15) NOT NULL,
	Address VARCHAR(30) NOT NULL,
	Acc_ID INT NOT NULL AUTO_INCREMENT,
	Archived BOOLEAN NOT NULL,
	PRIMARY KEY(Ref_No),
	FOREIGN KEY(Acc_ID) REFERENCES Accounts(Acc_ID)
);

CREATE TABLE Bedroom(
	Bed_ID INT NOT NULL AUTO_INCREMENT,
	Bed_Adult TINYINT(5) NOT NULL,
	Bed_Child TINYINT(5),
	Bed_Type VARCHAR(15) NOT NULL,
	Bed_Description VARCHAR(100) NOT NULL,
	Bed_Price DECIMAL(6,2) NOT NULL,
	Bed_Image BLOB,
	PRIMARY KEY(Bed_ID)
);

CREATE TABLE Bed_Res(
	TR_Bed INT NOT NULL,
	Ref_No VARCHAR(10) NOT NULL,
	Bed_ID INT NOT NULL,
	Bed_Date DATE NOT NULL,
	Bed_Date_In DATE NOT NULL,
	Bed_Date_Out DATE NOT NULL,
	Bed_Remarks VARCHAR(100),
	PRIMARY KEY(TR_Bed),
	FOREIGN KEY(Ref_No) REFERENCES Customer(Ref_No),
	FOREIGN KEY(Bed_ID) REFERENCES Bedroom(Bed_ID)
);

CREATE TABLE Accounting(
	TR_Acc INT NOT NULL,
	Ref_No VARCHAR(10) NOT NULL,
	Acc_Date_Avail DATE,
	Acc_Date_Paid DATE,
	Acc_Type VARCHAR(15) NOT NULL,
	Acc_Balance DECIMAL(6,2) NOT NULL,
	Acc_Payment DECIMAL(6,2) NOT NULL,
	Acc_Archived BOOLEAN NOT NULL,
	PRIMARY KEY(TR_Acc),
	FOREIGN KEY(Ref_No) REFERENCES Customer(Ref_No)
);


CREATE TABLE reciept_log(
	Reciept_ID INT NOT NULL AUTO_INCREMENT,
	TR_Acc INT NOT NULL,
	Reciept_Payment DECIMAL(6,2) NOT NULL,
	Reciept_Change DECIMAL(6,2) NOT NULL,
	Reciept_Date DATE NOT NULL,
	Reciept_Vat INT NOT NULL,
	PRIMARY KEY(Reciept_ID),
	FOREIGN KEY(TR_Acc) REFERENCES Accounting(TR_Acc)
);

CREATE TABLE Cus_Log(
	Acc_ID INT NOT NULL,
	Date DATETIME NOT NULL,
	Action VARCHAR(20) NOT NULL,
	FOREIGN KEY(Acc_ID) REFERENCES Accounts(Acc_ID)
);

CREATE TABLE Emp_Log(
	Emp_Acc_ID INT NOT NULL,
	Date DATETIME NOT NULL,
	Action VARCHAR(20) NOT NULL,
	FOREIGN KEY(Emp_Acc_ID) REFERENCES Emp_Accounts(Emp_Acc_ID)
);

CREATE TABLE Admin_Log(
	Acc_ID INT NOT NULL,
	Login DATETIME NOT NULL,
	Logout DATETIME NOT NULL,
	FOREIGN KEY(Acc_ID) REFERENCES Accounts(Acc_ID)
);

CREATE TABLE Restaurant(
	Restau_ID INT NOT NULL AUTO_INCREMENT,
	Restau_Start_Time TIME,
	Restau_End_Time TIME,
	Restau_Type VARCHAR(15) NOT NULL,
	Restau_Description VARCHAR(100) NOT NULL,
	Restau_Image BLOB,
	PRIMARY KEY(Restau_ID)
);

CREATE TABLE Restau_Res(
	TR_Restau INT NOT NULL,
	Ref_No VARCHAR(10) NOT NULL,
	Restau_ID INT NOT NULL,
	Restau_Seats TINYINT(5) NOT NULL,
	Restau_Date DATE NOT NULL,
	Restau_Date_In DATE NOT NULL,
	Restau_Time_In TIME NOT NULL,
	Restau_Remarks VARCHAR(100),
	PRIMARY KEY(TR_Restau),
	FOREIGN KEY(Restau_ID) REFERENCES Restaurant(Restau_ID),
	FOREIGN KEY(Ref_No) REFERENCES Customer(Ref_No)
);

CREATE TABLE Facility(
	Fac_ID INT NOT NULL AUTO_INCREMENT,
	Fac_Capacity INT,
	Fac_Type VARCHAR(15) NOT NULL,
	Fac_Description VARCHAR(100) NOT NULL,
	Fac_Image BLOB,
	Fac_Price DECIMAL(6,2),
	PRIMARY KEY(Fac_ID)
);

CREATE TABLE Fac_Res(
	TR_Fac INT NOT NULL,
	Ref_No VARCHAR(10) NOT NULL,
	Fac_ID INT NOT NULL,
	Fac_Attendees INT NOT NULL,
	Fac_Date DATE NOT NULL,
	Fac_Date_In DATE NOT NULL,
	Fac_Date_Out DATE NOT NULL,
	Fac_Time_In TIME NOT NULL,
	Fac_Time_Out TIME NOT NULL,
	Fac_Remarks VARCHAR(100),
	PRIMARY KEY(TR_Fac),
	FOREIGN KEY(Fac_ID) REFERENCES Facility(Fac_ID),
	FOREIGN KEY(Ref_No) REFERENCES Customer(Ref_No)
);

CREATE TABLE Employee(
	Emp_ID INT NOT NULL AUTO_INCREMENT,
	Name VARCHAR(30) NOT NULL,
	Contact_No VARCHAR(15) NOT NULL,
	Sex BOOLEAN NOT NULL,
	PRIMARY KEY(Emp_ID)
);

CREATE TABLE Schedule(
	Emp_ID INT NOT NULL,
	TR_No VARCHAR(10) NOT NULL,
	TR_Type VARCHAR(10) NOT NULL,
	Time_In TIME NOT NULL,
	Time_Out TIME NOT NULL,
	Date DATE NOT NULL,
	Team VARCHAR(15),
	FOREIGN KEY(Emp_ID) REFERENCES Employee(Emp_ID)
);

CREATE TABLE Inventory(
	Item_ID INT NOT NULL AUTO_INCREMENT,
	Name VARCHAR(15) NOT NULL,
	Quantity INT NOT NULL,
	Price DECIMAL(6,2),
	Brand VARCHAR(15),
	PRIMARY KEY(Item_ID)
);

CREATE TABLE Emp_Accounts(
	Emp_Acc_ID INT NOT NULL AUTO_INCREMENT,
	Username VARCHAR(15) NOT NULL,
	Password VARCHAR(32) NOT NULL,
	Role VARCHAR (20) NOT NULL,
	Archived Boolean NOT NULL,
	PRIMARY KEY(Emp_Acc_ID)
);

CREATE TABLE Add_Ons(
	TR_Add INT NOT NULL,
	Ref_No VARCHAR(10) NOT NULL,
    	Add_Description VARCHAR(20) NOT NULL,
    	Add_Amount DECIMAL(6,2) NOT NULL,
	Add_Quantity TINYINT NOT NULL,
    	Add_Date DATE NOT NULL,
    	PRIMARY KEY(TR_Add),
    	FOREIGN KEY (Ref_No) REFERENCES Customer(Ref_No)
);

CREATE TABLE Concierge(
	TR_Conc INT NOT NULL,
	Ref_No VARCHAR(10) NOT NULL,
	Emp_ID INT NOT NULL,
	Conc_Date_Req DATE NOT NULL,
	Conc_Description VARCHAR(20) NOT NULL,
	Conc_Amount DECIMAL(6,2),
	Conc_Serv_Charge DECIMAL(6,2),
    	PRIMARY KEY(TR_Conc),
    	FOREIGN KEY (Ref_No) REFERENCES Customer(Ref_No),
	FOREIGN KEY(Emp_ID) REFERENCES Employee(Emp_ID)
);

CREATE TABLE Amenities(
	Bed_ID INT NOT NULL,
	Item_ID INT NOT NULL,
	Item_Quant TINYINT NOT NULL,
	FOREIGN KEY(Bed_ID) REFERENCES Bedroom(Bed_ID),
	FOREIGN KEY(Item_ID) REFERENCES Inventory(Item_ID)
);

CREATE TABLE vat(
	Vat INT NOT NULL
);

#CREATE TABLE Billing(
#	TR_Bill VARCHAR(10) NOT NULL,
#	Ref_No VARCHAR(10) NOT NULL,
#	Date DATE NOT NULL,
#	Status VARCHAR(15) NOT NULL,
#	PRIMARY KEY(TR_Bill),
#	FOREIGN KEY(Ref_No) REFERENCES Customer(Ref_No)
#);

#CREATE TABLE Services(
#	Ref_No VARCHAR(10) NOT NULL,
#	TR_No VARCHAR(10) NOT NULL,
#	TR_Type VARCHAR(10) NOT NULL
#);
